{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/App.vue","webpack:///./src/components/Login.vue","webpack:///./src/components/Login.vue?0845","webpack:///./src/components/Authenticated.vue","webpack:///./src/components/Search.vue","webpack:///./src/components/Search.vue?e05e","webpack:///./src/components/Authenticated.vue?7244","webpack:///./src/components/App.vue?be88","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/Home.vue","webpack:///./src/components/Home.vue?0883","webpack:///./src/components/Page.vue","webpack:///./src/components/Page.vue?549e","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Page.vue?518a","webpack:///./src/components/App.vue?5e45","webpack:///./src/components/Search.vue?fe9c","webpack:///./src/components/Authenticated.vue?b81f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","loading","app","class","href","target","user","auth","logIn","type","url","email","password","proxy","props","methods","this","render","showNav","q","placeholder","filteredPages","page","id","to","body","toggleNavIfMobile","highlight","title","highlightRegex","description","logOut","DEBOUNCER","countInstances","content","str","toLowerCase","split","WHITESPACE","applyScores","pages","words","filter","forEach","titleScore","bodyScore","score","word","firstWordMultiplier","indexOf","writable","configurable","debounceQ","mounted","localStore","getItem","then","watch","val","clearTimeout","setTimeout","setItem","regex","replace","a","computed","RegExp","sort","LIMIT","components","Search","getLocalPages","localPages","updatePages","fetchPageList","setInterval","results","fetch","newResults","concat","size","limit","catch","alert","URL_CREATOR","URL","webkitURL","Error","Authenticated","Login","outerWidth","spaces","createInstance","path","fastFluence","restoreUser","pagesWithoutContent","childrenIds","status","JSON","parse","atob","restorePage","btoa","stringify","removeItem","location","reload","$route","$router","found","find","setLocalPages","getPageContent","Promise","resolve","reject","view","truncate","getPageChildren","map","updatePage","all","err","removePage","updateAllPages","skip","eta","Math","round","confirm","finally","fetchResource","done","headers","Authorization","response","blob","createObjectURL","json","statusCode","b","localeCompare","toggleNav","override","doShow","maxLength","$div","document","createElement","innerHTML","querySelectorAll","node","innerText","trim","register","process","ready","console","log","registered","cached","updatefound","updated","offline","error","toLocaleString","height","style","version","viewBox","width","xml:space","xmlns","xmlns:xlink","data-macro-name","ancestors","ancestor","_links","editui","webui","copy","isCopying","isArchived","ref","POLL_INTERVAL","params","splat","hash","join","el","getElementById","scrollIntoView","scrollTo","$el","resourceId","getAttribute","className","aspectRatio","parseInt","maxWidth","src","getAncestors","$wrapper","anchors","getElementsByTagName","anchor","fixed","match","startsWithHash","wikiURL","hashSplat","li","isChecked","checkedAttr","highlightElement","emoji","isNaN","Number","parentNode","insertBefore","nextSibling","removeChild","getAncestor","unshift","navigator","clipboard","writeText","routes","component","Home","Page","router","createRouter","history","createWebHashHistory","createApp","App","use","mount"],"mappings":"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","file":"js/app.0c3bd3f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <login :app=\"app\" v-if=\"!loading\">\n    <template v-slot>\n      <authenticated :app=\"app\">\n        <router-view :app=\"app\" />\n      </authenticated>\n    </template>\n  </login>\n</template>\n\n<script>\nimport localforage from 'localforage'\nimport Login from '@/components/Login.vue'\nimport Authenticated from '@/components/Authenticated.vue'\n\nconst URL_CREATOR = window.URL || window.webkitURL\n\nclass PageIsGoneError extends Error {\n  constructor () {\n    super('Page is gone.')\n  }\n}\n\nclass PageIsArchivedError extends Error {\n  constructor () {\n    super('Page is archived.')\n  }\n}\n\nexport default {\n  name: 'App',\n  components: {\n    Authenticated,\n    Login\n  },\n  data () {\n    return {\n      app: this,\n      loading: true,\n      showNav: window.outerWidth > 780,\n      user: {},\n      spaces: {},\n      pages: [],\n      localStore: localforage.createInstance({\n        name: 'fastfluence'\n      })\n    }\n  },\n  watch: {\n    '$route' ($route) {\n      if ($route.path !== '/') {\n        this.localStore.setItem('latestPage', $route.path)\n      }\n    }\n  },\n  mounted () {\n    window.fastFluence = this\n    this.restoreUser()\n  },\n  computed: {\n    pagesWithoutContent () {\n      return this.pages.filter((page) => {\n        return (typeof page.body === 'undefined' || !page.childrenIds) && page.status !== 'archived'\n      })\n    }\n  },\n  methods: {\n    restoreUser () {\n      this.localStore.getItem('auth').then((auth) => {\n        if (auth) {\n          this.logIn(JSON.parse(atob(auth)))\n          this.restorePage()\n        } else {\n          this.showNav = true\n        }\n\n        this.loading = false\n      })\n    },\n\n    logIn (user) {\n      this.user = user\n      this.user.auth = btoa(JSON.stringify(user))\n      this.localStore.setItem('auth', this.user.auth)\n    },\n\n    logOut () {\n      this.localStore.removeItem('pages').then(() => {\n        this.localStore.removeItem('auth').then(() => {\n          window.location.reload()\n        })\n      })\n    },\n\n    restorePage () {\n      if (this.$route.path !== '/') {\n        return\n      }\n\n      this.localStore.getItem('latestPage').then((page) => {\n        if (page) {\n          this.$router.push(page)\n        }\n      })\n    },\n\n    updatePages (pages) {\n      if (!this.pages.length) {\n        this.pages = pages\n      } else {\n        pages.forEach((page) => {\n          var found = this.pages.find((p) => {\n            return page.id === p.id\n          })\n\n          if (found) {\n            for (var key in page) {\n              found[key] = page[key]\n            }\n          } else if (page.status !== 'archived') {\n            this.pages.push(page)\n          }\n        })\n      }\n\n      this.setLocalPages(this.pages)\n    },\n\n    setLocalPages (pages) {\n      return this.localStore.setItem('pages', JSON.parse(JSON.stringify(pages)))\n    },\n\n    getLocalPages () {\n      return this.localStore.getItem('pages')\n    },\n\n    getPageContent (page) {\n      return new Promise((resolve, reject) => {\n        this.fetch(`/content/${page.id}?expand=body.view`).then((data) => {\n          if (data.status === 'archived') {\n            return reject(new PageIsArchivedError())\n          }\n\n          page.body = data.body.view.value || ''\n          page.description = this.truncate(page.body, 150)\n\n          resolve()\n        }).catch(reject)\n      })\n    },\n\n    getPageChildren (page) {\n      return this.fetch(`/content/${page.id}/child/page`).then((data) => {\n        page.childrenIds = data.results.map((p) => p.id)\n      })\n    },\n\n    updatePage (page) {\n      return Promise.all([\n        this.getPageContent(page),\n        this.getPageChildren(page)\n      ]).then(() => {\n        this.setLocalPages(this.pages)\n      }).catch((err) => {\n        if ((err instanceof PageIsGoneError) || (err instanceof PageIsArchivedError)) {\n          this.removePage(page)\n        }\n      })\n    },\n\n    removePage (page) {\n      this.pages.splice(this.pages.indexOf(page), 1)\n      this.setLocalPages(this.pages)\n    },\n\n    updateAllPages (skip) {\n      var eta = Math.round(this.pages.length / 60)\n      if (skip || confirm(`Do you want to fetch the content of all pages to store locally? Each request will be separated by 1 second so we don't hit any rate limiting issues (ETA ${eta} minutes for all pages). If you're brave, click this a bunch of times. We'll let you know when it is done. If you leave, it will pick up where it left off.`)) {\n        var page = this.pagesWithoutContent[0]\n\n        if (!page) {\n          return alert('All pages are fetched!')\n        }\n\n        this.updatePage(page).finally(() => {\n          setTimeout(() => {\n            this.updateAllPages(true)\n          }, 1000)\n        })\n      }\n    },\n\n    fetchResource (path, done) {\n      var auth = btoa(`${this.user.email}:${this.user.password}`)\n      var url = `${this.user.url.replace(/\\/$/, '')}`\n      var proxy = this.user.proxy || ''\n\n      if (proxy) { proxy = `${proxy.replace(/\\/$/, '')}/` }\n\n      return new Promise((resolve, reject) => {\n        fetch(`${proxy}${url}/rest/api${path}`, {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        }).then((response) => {\n          response.blob().then((data) => resolve(URL_CREATOR.createObjectURL(data)))\n        }).catch(reject)\n      })\n    },\n\n    fetch (path, done) {\n      var auth = btoa(`${this.user.email}:${this.user.password}`)\n      var url = `${this.user.url.replace(/\\/$/, '')}`\n      var proxy = this.user.proxy || ''\n\n      if (proxy) { proxy = `${proxy.replace(/\\/$/, '')}/` }\n\n      return new Promise((resolve, reject) => {\n        fetch(`${proxy}${url}/rest/api${path}`, {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        }).then((response) => {\n          response.json().then((json) => {\n            if (json.statusCode === 404) {\n              return reject(new PageIsGoneError())\n            }\n\n            resolve(json)\n          })\n        }).catch(reject)\n      })\n    },\n\n    sort (a, b) {\n      if (a.score && b.score) {\n        if (a.score > b.score) return -1\n        if (a.score < b.score) return 1\n        return 0\n      }\n\n      return a.title.localeCompare(b.title)\n    },\n\n    toggleNav (override) {\n      if (typeof doShow === 'boolean') {\n        this.showNav = override\n      } else {\n        this.showNav = !this.showNav\n      }\n    },\n\n    toggleNavIfMobile (override) {\n      if (window.outerWidth < 781) {\n        this.toggleNav(override)\n      }\n    },\n\n    truncate (str, maxLength) {\n      const $div = document.createElement('div')\n\n      $div.innerHTML = str\n\n      $div.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, td, th, strong, b, em, i').forEach((node) => {\n        node.innerHTML += ' '\n      })\n\n      str = $div.innerText.trim()\n\n      if (str.length > maxLength) {\n        return `${str.slice(0, maxLength)}...`\n      } else {\n        return str\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video,\ninput, textarea, select {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    color: inherit;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, menu, nav, section {\n    display: block;\n}\nbody {\n    line-height: 1;\n}\nol, ul {\n    list-style: none;\n}\nblockquote, q {\n    quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n    content: '';\n    content: none;\n}\ntable {\n    border-collapse: collapse;\n    border-spacing: 0;\n}\na {\n    color: inherit;\n    text-decoration: inherit;\n    text-transform: inherit;\n    display: inline-block;\n}\nimg {\n    max-width: 100%;\n}\n\nhtml {\n  box-sizing: border-box;\n}\n\n*, *:before, *:after {\n  box-sizing: inherit;\n}\n\nhtml, body {\n  color: #2c3e50;\n\n  @media (prefers-color-scheme: dark) {\n    background: #111;\n    color: rgba(255, 255, 255, 0.7);\n  }\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ninput {\n  border: 1px solid #eee;\n\n  @media (prefers-color-scheme: dark) {\n    border-color: #444;\n  }\n}\n</style>\n","<template>\n  <div>\n    <div v-if=\"app.user.auth\">\n      <slot></slot>\n    </div>\n    <div v-else>\n      <div class=\"search show-nav\">\n        <h2>Log In</h2>\n        <form v-on:submit=\"logIn(user)\">\n          <ul>\n            <li class=\"field\">\n              <label>Wiki URL</label>\n              <input type=\"url\" v-model=\"user.url\">\n            </li>\n            <li class=\"field\">\n              <label>Email Address</label>\n              <input type=\"email\" v-model=\"user.email\">\n            </li>\n            <li class=\"field\">\n              <label>API Key (likely from <a href=\"https://id.atlassian.com/manage-profile/security/api-tokens\" target=\"_blank\" class=\"inline\">here</a>)</label>\n              <input type=\"password\" v-model=\"user.password\">\n            </li>\n            <li class=\"field\">\n              <label>Proxy (eg. <a href=\"https://github.com/Rob--W/cors-anywhere\" target=\"_blank\">CORS Anywhere</a>)</label>\n              <input type=\"url\" v-model=\"user.proxy\">\n            </li>\n            <li class=\"actions\">\n              <button>Log In!</button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Welcome',\n  props: ['app'],\n  data () {\n    return {\n      user: {}\n    }\n  },\n  methods: {\n    logIn (user) {\n      this.app.logIn(user)\n    }\n  }\n}\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=2f9e87ec&bindings={\\\"app\\\":\\\"props\\\",\\\"user\\\":\\\"data\\\",\\\"logIn\\\":\\\"options\\\"}\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <search v-if=\"app.showNav\" :app=\"app\" />\n    <main>\n      <slot :app=\"app\"></slot>\n    </main>\n  </div>\n</template>\n\n<script>\nimport Search from '@/components/Search.vue'\n\nconst LIMIT = 1000\n\nexport default {\n  name: 'Authenticated',\n  props: ['app'],\n  components: {\n    Search\n  },\n  mounted () {\n    this.app.getLocalPages().then((localPages) => {\n      if (localPages && localPages.length) {\n        this.app.updatePages(localPages)\n      }\n\n      this.fetchPageList().then(() => {\n        setInterval(() => {\n          this.fetchPageList()\n        }, 15 * 60 * 1000)\n      })\n    })\n  },\n  methods: {\n    fetchPageList (n = 0, results = []) {\n      return this.app.fetch(`/content/?type=page&limit=${LIMIT}&start=${n * LIMIT}`).then((data) => {\n        const newResults = results.concat(data.results)\n\n        if (data.size === data.limit) {\n          this.fetchPageList(n + 1, newResults)\n        } else {\n          this.app.updatePages(newResults)\n        }\n      }).catch(() => {\n        alert('Could not retrieve pages. Your credentials are incorrect OR your CORS proxy is not working. Try refreshing the page or logging out.')\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  main {\n    margin-left: 22em;\n    padding: 2em;\n\n    @media (max-width: 780px) {\n      margin-left: 0;\n      padding: 1em;\n    }\n\n    .page > h1 {\n      margin-top: 0;\n    }\n  }\n\n  @media (min-width: 781px) {\n    .mobile-only {\n      display: none !important;\n    }\n  }\n\n  @media (max-width: 780px) {\n    .desktop-only {\n      display: none !important;\n    }\n  }\n</style>\n","<template>\n  <div class=\"search\">\n    <input type=\"search\" v-model=\"q\" placeholder=\"Search...\">\n    <ul>\n      <template v-if=\"filteredPages.length\">\n        <li v-for=\"page in filteredPages\" :key=\"page.id\">\n          <router-link :to=\"'/pages/' + page.id\" :class=\"!!page.body ? '' : 'no-body'\" @click=\"app.toggleNavIfMobile(false)\">\n            <p class=\"title\" v-html=\"highlight(page.title, highlightRegex)\"></p>\n            <p class=\"description\" v-if=\"page.description\">{{page.description}}</p>\n          </router-link>\n        </li>\n      </template>\n    </ul>\n    <ul class=\"footer\">\n      <li>\n        <router-link to=\"/\">\n          Welcome\n        </router-link>\n      </li>\n      <li>\n        <a href=\"javascript:;\" @click=\"app.logOut()\">\n          Log Out\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nconst countInstances = (content, str) => {\n  return (content || '').toLowerCase().split(str).length - 1\n}\n\nconst WHITESPACE = /\\s+/\nconst applyScores = (pages, q) => {\n  const words = q.split(WHITESPACE).filter(function (str) {\n    return str.length > 1\n  })\n\n  pages.forEach((page) => {\n    let titleScore = 0\n    let bodyScore = 0\n    let score = 0\n\n    words.forEach((word) => {\n      const firstWordMultiplier = page.title.toLowerCase().indexOf(word) === 0 ? 100 : 1\n\n      titleScore += countInstances(page.title, word) * 100 * firstWordMultiplier\n      bodyScore += countInstances(page.body, word)\n    })\n\n    score += titleScore + bodyScore\n\n    if (titleScore && bodyScore) {\n      score *= 2\n    }\n\n    Object.defineProperty(page, 'score', {\n      value: score,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    })\n  })\n}\n\nlet DEBOUNCER\n\nexport default {\n  name: 'Nav',\n  props: ['app'],\n  data () {\n    return {\n      q: '',\n      debounceQ: ''\n    }\n  },\n  mounted () {\n    this.app.localStore.getItem('q').then((q) => {\n      if (q) { this.q = this.debounceQ = q }\n    })\n  },\n  watch: {\n    q (val) {\n      clearTimeout(DEBOUNCER)\n      DEBOUNCER = setTimeout(() => {\n        this.debounceQ = val.toLowerCase()\n        this.app.localStore.setItem('q', val)\n      }, 200)\n    }\n  },\n  methods: {\n    highlight (str, regex) {\n      return str.replace(regex, (a) => {\n        return `<mark>${a}</mark>`\n      })\n    }\n  },\n  computed: {\n    highlightRegex () {\n      return new RegExp(this.debounceQ, 'i')\n    },\n\n    filteredPages () {\n      var q = this.debounceQ\n\n      if (q.length < 2) {\n        return []\n      }\n\n      applyScores(this.app.pages, q)\n\n      return this.app.pages.filter((page) => {\n        return page.score\n      }).sort(this.app.sort)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .search {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    text-align: center;\n    width: 22em;\n    overflow-y: auto;\n    overflow-x: hidden;\n    line-height: 1.6;\n    border-right: 1px solid #ddd;\n    background: #fff;\n\n    @media (prefers-color-scheme: dark) {\n      background: #000;\n      border-right: 1px solid #444;\n    }\n\n    @media (max-width: 780px) {\n      position: static;\n      width: auto;\n      right: 0;\n    }\n\n    h2 {\n      font-weight: bold;\n      font-size: 200%;\n      margin-top: 2em;\n    }\n\n    input[type=\"search\"] {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 22em;\n      outline: none;\n      padding: 0.5em 1em;\n      background: #ddd;\n      z-index: 999;\n\n      @media (max-width: 780px) {\n        width: 100%;\n      }\n\n      @media (prefers-color-scheme: dark) {\n        background: #444;\n      }\n    }\n\n    ul {\n      text-align: left;\n      margin-top: 2.75em;\n      padding-bottom: 5em;\n\n      &.footer {\n        position: fixed;\n        bottom: 0;\n        border-top: 1px solid #ddd;\n        border-right: 1px solid #ddd;\n        background: #eee;\n        width: 22em;\n        margin-top: 0;\n        padding-bottom: 0;\n\n        @media (max-width: 780px) {\n          width: 100%;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          border-color: #444;\n          background: #111;\n        }\n\n        li {\n          &:last-child {\n            border-bottom: 0;\n          }\n\n          @media (prefers-color-scheme: dark) {\n            border-color: #444;\n            background: #111;\n          }\n        }\n      }\n\n      a {\n        display: block;\n        padding: 0.5em 1em;\n        background: #eee;\n\n        @media (prefers-color-scheme: dark) {\n          background: #111;\n        }\n\n        &.inline {\n          display: inline;\n          padding: 0;\n          color: blue;\n        }\n\n        &.router-link-exact-active {\n          background: #fff;\n          color: #8160AB;\n\n          .title {\n            font-weight: bold;\n          }\n\n          @media (prefers-color-scheme: dark) {\n            color: #f5d67b;\n            background: #333;\n          }\n        }\n\n        .description {\n          font-size: 80%;\n          opacity: 0.65;\n        }\n\n        mark {\n          color: #000;\n          font-weight: bold;\n          background: none;\n\n          @media (prefers-color-scheme: dark) {\n            color: #fff;\n          }\n        }\n      }\n\n      li {\n        border-bottom: 1px solid #ddd;\n\n        @media (prefers-color-scheme: dark) {\n          border-color: #444;\n        }\n\n        &.field, &.actions {\n          padding: 1em;\n\n          label {\n            display: block;\n          }\n\n          input {\n            width: 100%;\n            padding: 0.5em;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            color: inherit;\n\n            @media (prefers-color-scheme: dark) {\n              border-color: #444;\n              background: #444;\n              color: #ddd;\n            }\n          }\n\n          button {\n            width: 100%;\n            padding: 0.5em;\n            background: blue;\n            color: #fff;\n            border-radius: 4px;\n            font-size: inherit;\n            border: 0;\n          }\n\n          a {\n            display: inline-block;\n            color: blue;\n            padding: 0;\n          }\n        }\n      }\n    }\n  }\n\n  .no-body {\n    color: #aaa;\n\n    @media (prefers-color-scheme: dark) {\n      color: #555;\n    }\n  }\n</style>\n","import { render } from \"./Search.vue?vue&type=template&id=6ca2aa64&bindings={\\\"app\\\":\\\"props\\\",\\\"q\\\":\\\"data\\\",\\\"debounceQ\\\":\\\"data\\\",\\\"highlight\\\":\\\"options\\\",\\\"highlightRegex\\\":\\\"options\\\",\\\"filteredPages\\\":\\\"options\\\"}\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./Authenticated.vue?vue&type=template&id=08e17982&bindings={\\\"app\\\":\\\"props\\\",\\\"fetchPageList\\\":\\\"options\\\"}\"\nimport script from \"./Authenticated.vue?vue&type=script&lang=js\"\nexport * from \"./Authenticated.vue?vue&type=script&lang=js\"\n\nimport \"./Authenticated.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=50d83eed&bindings={\\\"app\\\":\\\"data\\\",\\\"loading\\\":\\\"data\\\",\\\"showNav\\\":\\\"data\\\",\\\"user\\\":\\\"data\\\",\\\"spaces\\\":\\\"data\\\",\\\"pages\\\":\\\"data\\\",\\\"localStore\\\":\\\"data\\\",\\\"pagesWithoutContent\\\":\\\"options\\\",\\\"restoreUser\\\":\\\"options\\\",\\\"logIn\\\":\\\"options\\\",\\\"logOut\\\":\\\"options\\\",\\\"restorePage\\\":\\\"options\\\",\\\"updatePages\\\":\\\"options\\\",\\\"setLocalPages\\\":\\\"options\\\",\\\"getLocalPages\\\":\\\"options\\\",\\\"getPageContent\\\":\\\"options\\\",\\\"getPageChildren\\\":\\\"options\\\",\\\"updatePage\\\":\\\"options\\\",\\\"removePage\\\":\\\"options\\\",\\\"updateAllPages\\\":\\\"options\\\",\\\"fetchResource\\\":\\\"options\\\",\\\"fetch\\\":\\\"options\\\",\\\"sort\\\":\\\"options\\\",\\\"toggleNav\\\":\\\"options\\\",\\\"toggleNavIfMobile\\\":\\\"options\\\",\\\"truncate\\\":\\\"options\\\"}\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","<template>\n  <div class=\"welcome\">\n    <h1>Welcome to Fastfluence.</h1>\n    <p v-if=\"app.pages.length\"><strong>Your Fastfluence is ready!</strong></p>\n    <p>Get started by <a href=\"javascript:;\" @click=\"app.toggleNav(true)\" class=\"mobile-only\">searching</a><span class=\"desktop-only\">searching</span> for something in the sidebar.</p>\n    <p>As you view each page, they are stored in this browser's local storage (and kept up to date).</p>\n    <p>For the best search results, you can <a href=\"javascript:;\" @click=\"app.updateAllPages()\">Download All Content</a> now ({{(app.pages.length - app.pagesWithoutContent.length).toLocaleString()}} out of {{app.pages.length.toLocaleString()}} downloaded).</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Welcome',\n  props: ['app'],\n  mounted () {\n    if (this.$route.path === '/') {\n      this.app.toggleNavIfMobile(false)\n    }\n  }\n}\n</script>\n","import { render } from \"./Home.vue?vue&type=template&id=0ec7a372&bindings={\\\"app\\\":\\\"props\\\"}\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"page\" v-if=\"page\">\n      <a href=\"javascript:;\" @click=\"app.toggleNav(true)\" style=\"color: red;\" class=\"mobile-only\">\n        <svg height=\"32px\" id=\"Layer_1\" style=\"enable-background:new 0 0 32 32;\" version=\"1.1\" viewBox=\"0 0 32 32\" width=\"32px\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"icon\">\n          <path d=\"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z\"/>\n        </svg>\n      </a>\n    <h1>\n      {{page.title}}\n    </h1>\n    <ul class=\"ancestors-nav\">\n      <li v-for=\"ancestor in ancestors\" :key=\"'ancestors-' + page.id + '-ancestor-' + ancestor.id\">\n        <router-link :to=\"'/pages/' + ancestor.id\">\n          {{ ancestor.title }}\n        </router-link>\n      </li>\n    </ul>\n    <ul class=\"page-nav\">\n      <li>\n        <a :href=\"app.user.url + page._links.editui\" target=\"_blank\">\n          Edit\n        </a>\n      </li>\n      <li>\n        <a :href=\"app.user.url + page._links.webui\" target=\"_blank\">\n          View\n        </a>\n      </li>\n      <li>\n        <a href=\"javascript:;\" @click=\"copy(app.user.url + page._links.webui)\">\n          <span v-if=\"isCopying\">Copied</span>\n          <span v-else>Copy URL</span>\n        </a>\n      </li>\n    </ul>\n    <p v-if=\"isArchived\" data-macro-name=\"error\">\n      This page is archived.\n    </p>\n    <div v-if=\"body\" v-html=\"body\" ref=\"body\"></div>\n    <div v-else>\n      Loading...\n    </div>\n  </div>\n</template>\n\n<script>\nimport hljs from 'highlight.js'\n\nconst POLL_INTERVAL = 1 * 60 * 1000\n\nexport default {\n  name: 'Page',\n  props: ['app'],\n  data () {\n    return {\n      id: '',\n      isCopying: false\n    }\n  },\n  mounted () {\n    this.id = this.$route.params.id\n\n    setInterval(() => {\n      if (this.page) {\n        this.app.updatePage(this.page)\n      }\n    }, POLL_INTERVAL)\n  },\n  watch: {\n    $route (to) {\n      this.id = to.params.id\n    },\n\n    page (p) {\n      const splat = window.location.hash\n      let hash = splat.split('#').slice(2, splat.length).join('#') || ''\n      let el = document.getElementById(hash)\n\n      if (!el) {\n        hash = `${p.title.replace(/\\s/g, '')}-${hash.replace(/---/g, '^').replace(/-/g, '').replace(/\\^/g, '-')}`\n        el = document.getElementById(hash)\n      }\n\n      this.app.updatePage(p)\n\n      if (hash && el) {\n        el.scrollIntoView()\n      } else {\n        window.scrollTo(0, 0)\n      }\n\n      if (typeof this.$el.querySelectorAll !== 'function') {\n        return\n      }\n\n      this.$el.querySelectorAll('img').forEach((el) => {\n        const resourceId = el.getAttribute('data-linked-resource-id')\n\n        if (resourceId) {\n          const height = el.getAttribute('data-height')\n          const width = el.getAttribute('data-width')\n\n          if (height && width) {\n            el.className = 'loading'\n            el.style.aspectRatio = parseInt(width) / parseInt(height)\n            el.style.width = `${width}px`\n            el.style.maxWidth = '100%'\n          }\n\n          this.app.fetchResource(`/content/${this.page.id}/child/attachment/${resourceId}/download`)\n            .then((src) => {\n              el.src = src\n              el.className = ''\n            })\n        }\n      })\n    }\n  },\n  computed: {\n    page () {\n      return this.app.pages.find((page) => {\n        return page.id === this.id\n      })\n    },\n    isArchived () {\n      return this.page.status === 'archived'\n    },\n    ancestors () {\n      return this.getAncestors(this.page)\n    },\n    body () {\n      if (!this.page.body) {\n        return ''\n      }\n\n      var $wrapper = document.createElement('div')\n\n      $wrapper.innerHTML = this.page.body\n\n      var anchors = $wrapper.getElementsByTagName('a')\n\n      anchors.forEach((anchor) => {\n        if (anchor.fixed) {\n          return\n        }\n\n        anchor.fixed = true\n\n        var id = anchor.getAttribute('data-linked-resource-id')\n        var page = (anchor.href.match(/\\/pages\\/(\\d+)\\//) || [])[1]\n        var startsWithHash = anchor.href[0] === '#'\n        var wikiURL = (anchor.href.match(/(\\/spaces\\/[^#]+)/) || [])[0]\n        var hashSplat = anchor.href.split('#')\n        var hash = hashSplat[1] ? `#${hashSplat[1]}` : ''\n\n        if (startsWithHash) {\n          anchor.target = '_self'\n        } else if (id) {\n          anchor.target = '_self'\n          anchor.href = `#/pages/${id}${hash}`\n        } else if (page) {\n          anchor.target = '_self'\n          anchor.href = `#/pages/${page}${hash}`\n        } else if (wikiURL) {\n          var found = this.app.pages.find((page) => {\n            return page._links.webui === wikiURL\n          })\n\n          if (found) {\n            anchor.href = `#/pages/${found.id}${hash}`\n            anchor.target = '_self'\n          } else {\n            anchor.target = '_blank'\n          }\n        } else {\n          anchor.target = '_blank'\n        }\n      })\n\n      $wrapper.querySelectorAll('*').forEach((el) => {\n        el.style = ''\n      })\n\n      $wrapper.querySelectorAll('[data-highlight-colour]').forEach((el) => {\n        el.style = `border-left: 7px solid ${el.getAttribute('data-highlight-colour')}`\n      })\n\n      $wrapper.querySelectorAll('.inline-task-list').forEach((el) => {\n        el.querySelectorAll('li').forEach((li) => {\n          const isChecked = li.className.indexOf('checked') !== -1\n          const checkedAttr = isChecked ? 'checked=\"checked\"' : ''\n          li.innerHTML = `<input type=\"checkbox\" ${checkedAttr}> ${li.innerHTML}`\n        })\n      })\n\n      $wrapper.querySelectorAll('.syntaxhighlighter-pre').forEach((el) => {\n        hljs.highlightElement(el)\n      })\n\n      $wrapper.querySelectorAll('[data-emoji-id]').forEach((el) => {\n        const emoji = document.createElement('span')\n        const wikiURL = el.src.match(/\\/wiki(\\/.+)/)[1]\n        const id = el.getAttribute('data-emoji-id') || ''\n        // const fallback = el.getAttribute('data-emoji-fallback')\n\n        if (isNaN(Number(`0x${id}`))) {\n          el.src = `${this.app.user.url}${wikiURL}`\n        } else if (wikiURL) {\n          emoji.innerHTML = `&#x${id};`\n          el.parentNode.insertBefore(emoji, el.nextSibling)\n          el.parentNode.removeChild(el)\n        }\n      })\n\n      return $wrapper.innerHTML\n    }\n  },\n  methods: {\n    getAncestors (page, ancestors) {\n      ancestors = ancestors || []\n\n      const ancestor = this.getAncestor(page)\n\n      if (ancestor) {\n        ancestors.unshift(ancestor)\n        this.getAncestors(ancestor, ancestors)\n      }\n\n      return ancestors\n    },\n\n    getAncestor (page, ancestors) {\n      return this.app.pages.find((p) => {\n        return p.childrenIds && p.childrenIds.indexOf(page.id) !== -1\n      })\n    },\n\n    copy (str) {\n      this.isCopying = true\n      window.navigator.clipboard.writeText(str)\n        .then(() => setTimeout(() => {\n          this.isCopying = false\n        }, 2500))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .icon path {\n    fill: #333;\n\n    @media (prefers-color-scheme: dark) {\n      fill: #eee;\n    }\n  }\n\n  .ancestors-nav {\n    margin-left: 0;\n\n    li {\n      display: inline-block;\n\n      &:before {\n        content: '';\n        margin: 0 1em;\n        opacity: 0.5;\n      }\n\n      &:first-child:before {\n        display: none;\n      }\n    }\n  }\n\n  .page-nav {\n    margin-left: 0;\n\n    li {\n      display: inline-block;\n\n      &:before {\n        content: '|';\n        margin: 0 1em;\n        opacity: 0.5;\n      }\n\n      &:first-child:before {\n        display: none;\n      }\n\n      a {\n        display: inline-block;\n      }\n    }\n  }\n\n  main {\n    line-height: 1.6;\n\n    h1, h2, h3, h4, h5, h6, p, ul, ol, blockquote, table, pre, .page-nav, [data-macro-name=\"note\"], [data-macro-name=\"warning\"], [data-macro-name=\"error\"], [data-macro-name=\"success\"], [data-macro-name=\"info\"], [data-macro-name=\"panel\"] {\n      margin-bottom: 1rem;\n    }\n\n    hr {\n      margin: 1em 0;\n      height: 3px;\n      background: #ddd;\n      border: 0;\n\n      @media (prefers-color-scheme: dark) {\n        background: #444;\n      }\n    }\n\n    h1, h2, h3, h4, h5, h6 {\n      line-height: 1.3;\n      margin-top: 2rem;\n      word-break: break-word;\n    }\n\n    h1 {\n      font-weight: bold;\n      font-size: 200%;\n    }\n\n    h2 {\n      font-weight: bold;\n      font-size: 150%;\n    }\n\n    h3 {\n      font-weight: bold;\n      font-size: 130%;\n    }\n\n    h4 {\n      font-weight: bold;\n      font-size: 120%;\n    }\n\n    h5 {\n      font-weight: bold;\n      font-size: 110%;\n    }\n\n    ol, ul {\n      margin-left: 25px;\n\n      li :last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    ol {\n      list-style: decimal;\n    }\n\n    ul {\n      list-style: disc;\n    }\n\n    li {\n      ul, ol {\n        margin-top: -1rem;\n      }\n    }\n\n    a {\n      color: blue;\n\n      @media (prefers-color-scheme: dark) {\n        font-weight: bold;\n        color: #aa7ee1;\n      }\n    }\n\n    .update-item-profile {\n      display: none;\n    }\n\n    pre, code, [data-username], .aui-lozenge, .syntaxhighlighter-pre {\n      background: #eee;\n      border-radius: 4px;\n\n      @media (prefers-color-scheme: dark) {\n        background: #333;\n      }\n    }\n\n    [data-username] {\n      display: inline;\n      padding: 0.05em 0.25em;\n    }\n\n    pre, code {\n      font-family: monospace;\n    }\n\n    code {\n      padding: .25em .5em;\n    }\n\n    pre {\n      padding: 1em;\n      overflow-x: auto;\n    }\n\n    img.loading {\n      background: #eee;\n\n      @media (prefers-color-scheme: dark) {\n        background: #333;\n      }\n    }\n\n    table {\n      width: 100%;\n     table-layout: fixed;\n\n      td, th {\n        border: 1px solid #ddd;\n        padding: 0.5em;\n\n        @media (prefers-color-scheme: dark) {\n          border-color: #444;\n        }\n      }\n\n      th {\n        background: #eee;\n\n        @media (prefers-color-scheme: dark) {\n          background: #333;\n        }\n      }\n\n      p {\n        margin-bottom: 0;\n      }\n    }\n\n    strong, b {\n      font-weight: bold;\n    }\n\n    i, em {\n      font-style: oblique;\n    }\n\n    .aui-lozenge {\n      font-size: 0.85em;\n      font-weight: bold;\n      padding: 0.15em 0.5em;\n      background: #eee;\n      display: inline;\n\n      @media (prefers-color-scheme: dark) {\n        background: #333;\n      }\n\n      &.aui-lozenge-success {\n        background: #17b450;\n        color: #dcfee0;\n\n        @media (prefers-color-scheme: light) {\n          background: #dcfee0;\n          color: #17b450;\n        }\n      }\n\n      &.aui-lozenge-complete {\n        background: #35c9f6;\n        color: #cff0fa;\n\n        @media (prefers-color-scheme: light) {\n          background: #cff0fa;\n          color: #35c9f6;\n        }\n      }\n    }\n\n    [data-macro-name=\"panel\"],\n    [data-macro-name=\"note\"],\n    [data-macro-name=\"info\"],\n    [data-macro-name=\"warning\"],\n    [data-macro-name=\"error\"],\n    [data-macro-name=\"success\"] {\n      background: #fff5e7;\n      padding: 1em;\n      border-radius: 4px;\n\n      :last-child {\n        margin-bottom: 0;\n      }\n\n      @media (prefers-color-scheme: dark) {\n        background: #333;\n      }\n\n      &[data-macro-name=\"panel\"] {\n        border-left: 5px solid #803bc7;\n\n        @media (prefers-color-scheme: light) {\n          background: #e5e8fd;\n        }\n      }\n\n      &[data-macro-name=\"warning\"], &[data-macro-name=\"error\"] {\n        border-left: 5px solid #ad1e04;\n\n        @media (prefers-color-scheme: light) {\n          background: #fdd3c8;\n        }\n      }\n\n      &[data-macro-name=\"note\"] {\n        border-left: 5px solid #35c9f6;\n\n        @media (prefers-color-scheme: light) {\n          background: #cff0fa;\n        }\n      }\n\n      &[data-macro-name=\"info\"] {\n        border-left: 5px solid #35c9f6;\n\n        @media (prefers-color-scheme: light) {\n          background: #cff0fa;\n        }\n      }\n\n      &[data-macro-name=\"success\"] {\n        border-left: 5px solid #17b450;\n\n        @media (prefers-color-scheme: light) {\n          background: #dcfee0;\n        }\n      }\n    }\n\n    .inline-task-list {\n      list-style: none;\n      margin-left: 0px;\n\n      input[type=\"checkbox\"] {\n        margin-right: 0.3em;\n      }\n    }\n  }\n\n  pre code.hljs {\n    display: block;\n    overflow-x: auto;\n    padding: 1em;\n  }\n\n  code.hljs{\n    padding: 3px 5px;\n  }\n\n  /*!\n    Theme: GitHub\n    Description: Light theme as seen on github.com\n    Author: github.com\n    Maintainer: @Hirse\n    Updated: 2021-05-15\n\n    Outdated base version: https://github.com/primer/github-syntax-light\n    Current colors taken from GitHub's CSS\n  */\n  .hljs{color:#24292e;background:#fff}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}\n\n  @media (prefers-color-scheme: dark) {\n    /*!\n      Theme: GitHub Dark\n      Description: Dark theme as seen on github.com\n      Author: github.com\n      Maintainer: @Hirse\n      Updated: 2021-05-15\n\n      Outdated base version: https://github.com/primer/github-syntax-dark\n      Current colors taken from GitHub's CSS\n    */\n    .hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#79c0ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-code,.hljs-comment,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}\n  }\n</style>\n","import { render } from \"./Page.vue?vue&type=template&id=f4ca354a&bindings={\\\"app\\\":\\\"props\\\",\\\"id\\\":\\\"data\\\",\\\"isCopying\\\":\\\"data\\\",\\\"page\\\":\\\"options\\\",\\\"isArchived\\\":\\\"options\\\",\\\"ancestors\\\":\\\"options\\\",\\\"body\\\":\\\"options\\\",\\\"getAncestors\\\":\\\"options\\\",\\\"getAncestor\\\":\\\"options\\\",\\\"copy\\\":\\\"options\\\"}\"\nimport script from \"./Page.vue?vue&type=script&lang=js\"\nexport * from \"./Page.vue?vue&type=script&lang=js\"\n\nimport \"./Page.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory } from 'vue-router'\nimport Home from '../components/Home.vue'\nimport Page from '../components/Page.vue'\n\nconst routes = [\n  {\n    path: '/',\n    component: Home\n  },\n  {\n    path: '/pages/:id',\n    component: Page\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './components/App.vue'\nimport './registerServiceWorker'\nimport router from './router'\n\ncreateApp(App).use(router).mount('#app')\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Page.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Page.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Search.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Search.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Authenticated.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Authenticated.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}